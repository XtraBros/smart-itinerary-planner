<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Tour Guide</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="static/css/base.css">
    <link rel="stylesheet" href="static/css/custom-waypoints.css">
    <link rel="stylesheet" href="static/css/info-card.css">
    <script src='https://api.mapbox.com/mapbox-gl-js/v3.3.0/mapbox-gl.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/marked/marked.min.js'></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.0/mapbox-gl-directions.js"></script>
</head>
<body>
    <div id="container">
        <div id="map"></div>
        <div id="resizer"></div>
        <div id="left-panel">
            <h1 id="panel-title">Smart Tour Assistant</h1>
            <div id="chatbot-area">
                <div id="chatbot-messages">
                </div>
                <div id="input-container">
                    <input type="text" id="chatbot-input" placeholder="Type a message..." onkeydown="submitChat(event)">
                    <button id="voice-btn" onclick="startVoiceInput()">
                        <i id="record" class="fas fa-microphone"></i>
                    </button>
                </div>

                <div id="voice">
                    <div class="mt-4" id="div_language" style="display:none">
                        <h2 class="mb-3 text-light">Select Language</h2>
                        <select class="form-select bg-secondary text-light" id="select_language" onchange="updateCountry()"></select>
                        <select class="form-select bg-secondary text-light mt-2" id="select_dialect"></select>
                    </div>
                </div>

            </div>
        </div>
        <div id="controls">
            <button id="add-waypoint">Add Pin</button>
            <button id="generate-route">Generate Route</button>
        </div>        
    </div>
    <div id="waypoint-form-container" style="display: none;">
        <div id="waypoint-form">
            <label for="waypoint-title">Title:</label>
            <input type="text" id="waypoint-title" name="waypoint-title"><br>
            <label for="waypoint-notes">Notes:</label>
            <textarea id="waypoint-notes" name="waypoint-notes"></textarea><br>
            <button id="save-waypoint">Save</button>
            <button id="cancel-waypoint">Cancel</button>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/map-setup.js') }}"></script>
    <script src="{{ url_for('static', filename='js/language.js') }}"></script>
    <script src="{{ url_for('static', filename='js/speech-recognition.js') }}"></script>
    <script src="{{url_for('static',filename='js/chatbox-resize.js')}}"></script>
    <script src="{{url_for('static',filename='js/custom-waypoints.js')}}"></script>
</body>
</html>